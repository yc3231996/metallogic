app:
  description: provide high quality questions for business analysis based on provided
    data schema
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: workflow
  name: QuestionAgent
kind: app
version: 0.1.1
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: start
        targetType: tool
      id: 1724178251155-source-1724178431245-target
      source: '1724178251155'
      sourceHandle: source
      target: '1724178431245'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: llm
      id: 1724178431245-source-1724178256379-target
      source: '1724178431245'
      sourceHandle: source
      target: '1724178256379'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: llm
      id: 1724178256379-source-1724178455437-target
      source: '1724178256379'
      sourceHandle: source
      target: '1724178455437'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: llm
      id: 1724178455437-source-1724184957407-target
      source: '1724178455437'
      sourceHandle: source
      target: '1724184957407'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: end
      id: 1724184957407-source-1724185317687-target
      source: '1724184957407'
      sourceHandle: source
      target: '1724185317687'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: Start
        type: start
        variables:
        - label: workspace
          max_length: 100
          options: []
          required: true
          type: text-input
          variable: workspace
      height: 89
      id: '1724178251155'
      position:
        x: -119
        y: 267
      positionAbsolute:
        x: -119
        y: 267
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: æ•°æ®åº“ç»“æ„ç†è§£ã€ä¸šåŠ¡é¢†åŸŸåˆ†æã€ç”ŸæˆSQLå¯å›ç­”çš„åˆ†æé—®é¢˜
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: claude-3-5-sonnet-20240620
          provider: anthropic
        prompt_template:
        - id: f81cfb79-e007-4639-a618-7f818f413449
          role: system
          text: "ä½œä¸ºä¸€ä½èµ„æ·±çš„æ•°æ®åˆ†æä¸“å®¶ï¼Œä½ çš„ä»»åŠ¡æ˜¯åˆ†ææä¾›çš„æ•°æ®åº“ç»“æ„ï¼Œå¹¶æä¾›æ·±å…¥çš„ä¸šåŠ¡æ´å¯Ÿã€‚è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š\n\n1. å…¨é¢ç†è§£æ•°æ®åº“ç»“æ„ï¼š\n\
            \   - åˆ†æè¡¨ä¹‹é—´çš„å…³ç³»\n   - è¯†åˆ«å…³é”®å­—æ®µå’Œå®ƒä»¬çš„ä¸šåŠ¡å«ä¹‰\n   - æ³¨æ„ä»»ä½•æ•°æ®ç±»å‹é™åˆ¶æˆ–ç‰¹æ®Šè®¾è®¡\n\n2. æ¨æ–­ä¸šåŠ¡é¢†åŸŸå’Œå…³é”®æµç¨‹ï¼š\n\
            \   - åŸºäºæ•°æ®ç»“æ„ï¼Œæ¨æ–­è¿™ä¸ªæ•°æ®åº“æœåŠ¡äºå“ªä¸ªä¸šåŠ¡é¢†åŸŸ\n   - è¯†åˆ«å¯èƒ½çš„æ ¸å¿ƒä¸šåŠ¡æµç¨‹\n   - åˆ—å‡º3-5ä¸ªä½ è®¤ä¸ºæœ€é‡è¦çš„å…³é”®ç»©æ•ˆæŒ‡æ ‡(KPIs)\n\
            \n3. ç”Ÿæˆ10ä¸ªé«˜ä»·å€¼çš„ä¸šåŠ¡åˆ†æé—®é¢˜ï¼š\n   - è¿™äº›é—®é¢˜åº”è¯¥å¯ä»¥é€šè¿‡SQLæŸ¥è¯¢æ¥å›ç­”\n   - æ¯ä¸ªé—®é¢˜åº”è¯¥åŒ…æ‹¬å…¶ä¸šåŠ¡é‡è¦æ€§å’ŒåŸºæœ¬çš„SQLæŸ¥è¯¢æ€è·¯\n\
            \nè¯·æä¾›ä½ çš„è¯¦ç»†åˆ†æå’Œæ´å¯Ÿã€‚"
        - id: 0456f676-f5b4-41c0-902e-ed5ec9390b26
          role: user
          text: ' ä»¥ä¸‹æ˜¯æ•°æ®åº“è¡¨ç»“æ„æè¿°

            {{#1724178431245.text#}}'
        selected: false
        title: process schema
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: true
      height: 141
      id: '1724178256379'
      position:
        x: 627
        y: 267
      positionAbsolute:
        x: 627
        y: 267
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        provider_id: 4d1e02ed-b1ac-47d1-8319-a6f014a1d240
        provider_name: Data Engine
        provider_type: api
        selected: false
        title: workspacemetadata_get
        tool_configurations: {}
        tool_label: workspacemetadata_get
        tool_name: workspacemetadata_get
        tool_parameters:
          workspace:
            type: mixed
            value: '{{#1724178251155.workspace#}}'
        type: tool
      height: 53
      id: '1724178431245'
      position:
        x: 282
        y: 308
      positionAbsolute:
        x: 282
        y: 308
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ç”Ÿæˆéœ€è¦é¢å¤–æ•°æ®çš„åˆ†æé—®é¢˜
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: claude-3-5-sonnet-20240620
          provider: anthropic
        prompt_template:
        - id: b02c9837-dc91-455a-b776-b2f340f728cc
          role: system
          text: 'ä½œä¸ºä¸€ä½èµ„æ·±çš„æ•°æ®åˆ†æä¸“å®¶ï¼ŒåŸºäºä¹‹å‰å¯¹â€œæ•°æ®åº“ç»“æ„ç†è§£ï¼Œä¸šåŠ¡é¢†åŸŸçš„åˆ†æï¼Œé«˜ä»·å€¼çš„ä¸šåŠ¡åˆ†æé—®é¢˜ç­‰â€œï¼Œç°åœ¨è€ƒè™‘ä¸€äº›æ›´å¹¿æ³›çš„ä¸šåŠ¡é—®é¢˜ï¼Œè¿™äº›é—®é¢˜å¯èƒ½éœ€è¦é¢å¤–çš„æ•°æ®æ¥å›ç­”ã€‚è¯·ç”Ÿæˆ5ä¸ªè¿™æ ·çš„é—®é¢˜ï¼Œæ¯ä¸ªé—®é¢˜åº”åŒ…æ‹¬ï¼š


            1. é—®é¢˜æè¿°

            2. ä¸ºä»€ä¹ˆè¿™ä¸ªé—®é¢˜å¯¹ä¸šåŠ¡å¾ˆé‡è¦

            3. å›ç­”è¿™ä¸ªé—®é¢˜å¯èƒ½éœ€è¦çš„é¢å¤–æ•°æ®

            4. è·å–è¿™äº›é¢å¤–æ•°æ®çš„å¯èƒ½æ–¹æ³•


            è¯·ç¡®ä¿è¿™äº›é—®é¢˜èƒ½æä¾›é‡è¦çš„ä¸šåŠ¡æ´å¯Ÿï¼Œå¹¶è€ƒè™‘é•¿æœŸæˆ˜ç•¥ä»·å€¼ã€‚'
        - id: a3610d82-1371-4d26-b2be-37adcc0e1b9b
          role: user
          text: 'æ•°æ®åº“ç»“æ„ç†è§£ï¼Œä¸šåŠ¡é¢†åŸŸçš„åˆ†æï¼Œé«˜ä»·å€¼çš„ä¸šåŠ¡åˆ†æé—®é¢˜ï¼š

            {{#1724178256379.text#}}'
        selected: false
        title: additional questions
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: true
      height: 125
      id: '1724178455437'
      position:
        x: 1069
        y: 273
      positionAbsolute:
        x: 1069
        y: 273
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: claude-3-5-sonnet-20240620
          provider: anthropic
        prompt_template:
        - id: fdd4118a-66dc-4777-9590-a05bc6599f1c
          role: system
          text: "ä½œä¸ºä¸€ä½èµ„æ·±çš„æ•°æ®åˆ†æä¸“å®¶ï¼Œè¯·å›é¡¾ä¹‹å‰æ‰€æœ‰çš„åˆ†æç»“æœï¼ŒåŒ…æ‹¬æ•°æ®åº“ç»“æ„ç†è§£ã€ä¸šåŠ¡é¢†åŸŸåˆ†æã€SQLå¯å›ç­”çš„é—®é¢˜å’Œéœ€è¦é¢å¤–æ•°æ®çš„é—®é¢˜ã€‚ç°åœ¨ä½ çš„ä»»åŠ¡æ˜¯ï¼š\n\
            \n1. æ•´åˆå¹¶ä¼˜åŒ–è¿™äº›é—®é¢˜ï¼Œç¡®ä¿å®ƒä»¬:\n   - ç›¸äº’è¡¥å……è€Œä¸é‡å¤\n   - è¦†ç›–äº†å…³é”®çš„ä¸šåŠ¡é¢†åŸŸ\n   - å…·æœ‰é«˜åº¦çš„ä¸šåŠ¡ä»·å€¼å’Œå¯è¡Œæ€§\n\
            \n2. å°†æœ€ç»ˆçš„é—®é¢˜åˆ—è¡¨åˆ†ä¸ºä¸¤ç±»ï¼š\n   A. å¯ä»¥é€šè¿‡ç°æœ‰æ•°æ®åº“ç»“æ„å›ç­”çš„é—®é¢˜\n   B. éœ€è¦é¢å¤–æ•°æ®æ”¯æŒçš„é—®é¢˜\n\n3. å¯¹æ¯ç±»é—®é¢˜æŒ‰ç…§é‡è¦æ€§å’Œç´§è¿«æ€§è¿›è¡Œæ’åºã€‚\n\
            \n4. ä¸ºæ¯ä¸ªé—®é¢˜æ·»åŠ ç®€çŸ­è¯´æ˜ï¼Œè§£é‡Šå…¶ä¸šåŠ¡ä»·å€¼å’Œæ½œåœ¨å½±å“ã€‚\n\n5. å¯¹äºAç±»é—®é¢˜ï¼Œæä¾›ç®€è¦çš„åˆ†ææ€è·¯ã€‚\n   å¯¹äºBç±»é—®é¢˜ï¼Œç®€è¿°è·å–æ‰€éœ€é¢å¤–æ•°æ®çš„å»ºè®®ã€‚\n\
            \nè¯·æä¾›ä¸€ä¸ªç»“æ„åŒ–çš„æœ€ç»ˆæŠ¥å‘Šï¼ŒåŒ…å«Aç±»å’ŒBç±»é—®é¢˜"
        - id: 0d6f4945-862b-4888-b5bb-f40e7bb44d11
          role: user
          text: 'æ•°æ®åº“ç»“æ„ç†è§£ï¼Œä¸šåŠ¡é¢†åŸŸçš„åˆ†æï¼Œé«˜ä»·å€¼çš„ä¸šåŠ¡åˆ†æé—®é¢˜ï¼š

            {{#1724178256379.text#}}


            é¢å¤–æ•°æ®çš„é—®é¢˜ï¼š

            {{#1724178455437.text#}}'
        selected: true
        title: summarize
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: true
      height: 97
      id: '1724184957407'
      position:
        x: 1528
        y: 293
      positionAbsolute:
        x: 1528
        y: 293
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        outputs:
        - value_selector:
          - '1724184957407'
          - text
          variable: output
        selected: false
        title: End
        type: end
      height: 89
      id: '1724185317687'
      position:
        x: 1915
        y: 329
      positionAbsolute:
        x: 1915
        y: 329
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    viewport:
      x: -487.3611111111113
      y: -72.30555555555554
      zoom: 0.6944444444444445
